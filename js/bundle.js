/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";document.addEventListener("keydown",function(t){"Enter"===t.key&&t.preventDefault()});var t;document.addEventListener("keydown",function(t){"Enter"===t.key&&t.preventDefault()});const e=function(e){var n=e.target;switch(t=n.id,n.className){case"pause":e.preventDefault(),window.speechSynthesis.pause(),he.pause();break;case"resume":e.preventDefault(),window.speechSynthesis.resume(),he.resume()}};document.addEventListener("keydown",function(t){"Enter"===t.key&&t.preventDefault()});var n=document.getElementById("voiceSelect"),r=window.speechSynthesis,o={getUtterance:function(t,e,o){var i=document.getElementById("speed").value,u=document.getElementById("pitch").value,c=r.getVoices(),a=null;if(console.log("🎯 Параметры getUtterance:",{text:t,language:e,currentButton1:o}),e&&"but1"===o){var l={En:["английский Соединенные Штаты (en-US)","(en-US)",/[^"]*\(en-US\)/,"Google US English (en-US)"],Pl:["польский Польша (pl-PL)","(pl-PL)",/[^"]*\(pl-PL\)/,"Google polski (pl-PL)"],Gr:["греческий Греция (el-GR)","(el-GR)",/[^"]*\(el-GR\)/,"Greek (el-GR)"],Du:["немецкий Германия (de-DE)","(de-DE)",/[^"]*\(de-DE\)/,"Google Deutsch (de-DE)"]}[e]||[];if(!(a=c.find(function(t){return l.some(function(e){var n="".concat(t.name||""," (").concat(t.lang||"",")");return"[object RegExp]"===Object.prototype.toString.call(e)?e.test(n)||e.test(t.name)||e.test(t.lang):"string"==typeof e&&(t.name&&t.name.includes(e)||t.lang&&t.lang===e||n===e)})}))){var s={En:["en-US","en-GB","en"],Pl:["pl-PL","pl"],Gr:["el-GR","el"],Du:["de-DE","de"]}[e]||[];a=c.find(function(t){return s.some(function(e){var n,r=(null===(n=t.lang)||void 0===n?void 0:n.toLowerCase())||"",o="".concat(t.name||""," (").concat(t.lang||"",")").toLowerCase();return r===e.toLowerCase()||r.startsWith(e.toLowerCase())||o.includes(e.toLowerCase())})})}a?console.log("🗣️ Автоматический выбор голоса для языка ".concat(e,": ").concat(a.name," (").concat(a.lang,")")):console.warn("⚠️ Голос не найден для языка ".concat(e))}if(!a&&e&&"but2"===o){var f=["Google русский (ru-RU)","русский Россия (ru-RU)","(ru-RU)","ru-RU"];(a=c.find(function(t){return f.some(function(e){var n="".concat(t.name||""," (").concat(t.lang||"",")");return"[object RegExp]"===Object.prototype.toString.call(e)?e.test(n)||e.test(t.name)||e.test(t.lang):"string"==typeof e&&(t.name&&t.name.includes(e)||t.lang&&t.lang===e||n===e)})}))?console.log("🇷🇺 Используется единый русский голос: ".concat(a.name," (").concat(a.lang,")")):console.warn("⚠️ Не найден русский голос для режима but2")}if(!a){var p=n.value;(a=c.find(function(t){return t.name===p}))?console.log("🔁 Fallback: выбран голос из UI — ".concat(a.name," (").concat(a.lang,")")):c.length>0?(a=c[0],console.warn("⚠️ Используется первый доступный голос: ".concat(a.name," (").concat(a.lang,")"))):console.error("❌ Нет доступных голосов в системе!")}var d=new SpeechSynthesisUtterance(t);return d.voice=a,d.lang=a.lang,d.volume=1,d.rate=i,d.pitch=u,console.log("✅ Итоговый выбор: ".concat(d.voice.name," (").concat(d.lang,")")),d}};n.addEventListener("change",function(){n.value});const i=o;var u=function(t){if(t){var e=function(t){return[].slice.call(t)},n=3,r=[],o=null,i="requestAnimationFrame"in t?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sync:!1};t.cancelAnimationFrame(o);var n=function(){return c(r.filter(function(t){return t.dirty&&t.active}))};if(e.sync)return n();o=t.requestAnimationFrame(n)}:function(){},u=function(t){return function(e){r.forEach(function(e){return e.dirty=t}),i(e)}},c=function(t){t.filter(function(t){return!t.styleComputed}).forEach(function(t){t.styleComputed=f(t)}),t.filter(p).forEach(d);var e=t.filter(s);e.forEach(l),e.forEach(function(t){d(t),a(t)}),e.forEach(v)},a=function(t){return t.dirty=0},l=function(t){t.availableWidth=t.element.parentNode.clientWidth,t.currentWidth=t.element.scrollWidth,t.previousFontSize=t.currentFontSize,t.currentFontSize=Math.min(Math.max(t.minSize,t.availableWidth/t.currentWidth*t.previousFontSize),t.maxSize),t.whiteSpace=t.multiLine&&t.currentFontSize===t.minSize?"normal":"nowrap"},s=function(t){return 2!==t.dirty||2===t.dirty&&t.element.parentNode.clientWidth!==t.availableWidth},f=function(e){var n=t.getComputedStyle(e.element,null);return e.currentFontSize=parseFloat(n.getPropertyValue("font-size")),e.display=n.getPropertyValue("display"),e.whiteSpace=n.getPropertyValue("white-space"),!0},p=function(t){var e=!1;return!t.preStyleTestCompleted&&(/inline-/.test(t.display)||(e=!0,t.display="inline-block"),"nowrap"!==t.whiteSpace&&(e=!0,t.whiteSpace="nowrap"),t.preStyleTestCompleted=!0,e)},d=function(t){t.element.style.whiteSpace=t.whiteSpace,t.element.style.display=t.display,t.element.style.fontSize=t.currentFontSize+"px"},v=function(t){t.element.dispatchEvent(new CustomEvent("fit",{detail:{oldValue:t.previousFontSize,newValue:t.currentFontSize,scaleFactor:t.currentFontSize/t.previousFontSize}}))},h=function(t,e){return function(n){t.dirty=e,t.active&&i(n)}},y=function(t){return function(){r=r.filter(function(e){return e.element!==t.element}),t.observeMutations&&t.observer.disconnect(),t.element.style.whiteSpace=t.originalStyle.whiteSpace,t.element.style.display=t.originalStyle.display,t.element.style.fontSize=t.originalStyle.fontSize}},b=function(t){return function(){t.active||(t.active=!0,i())}},m=function(t){return function(){return t.active=!1}},g=function(t){t.observeMutations&&(t.observer=new MutationObserver(h(t,1)),t.observer.observe(t.element,t.observeMutations))},w={minSize:16,maxSize:512,multiLine:!0,observeMutations:"MutationObserver"in t&&{subtree:!0,childList:!0,characterData:!0}},S=null,x=function(){t.clearTimeout(S),S=t.setTimeout(u(2),_.observeWindowDelay)},E=["resize","orientationchange"];return Object.defineProperty(_,"observeWindow",{set:function(e){var n="".concat(e?"add":"remove","EventListener");E.forEach(function(e){t[n](e,x)})}}),_.observeWindow=!0,_.observeWindowDelay=100,_.fitAll=u(n),_}function k(t,e){var o=Object.assign({},w,e),u=t.map(function(t){var e=Object.assign({},o,{element:t,active:!0});return function(t){t.originalStyle={whiteSpace:t.element.style.whiteSpace,display:t.element.style.display,fontSize:t.element.style.fontSize},g(t),t.newbie=!0,t.dirty=!0,r.push(t)}(e),{element:t,fit:h(e,n),unfreeze:b(e),freeze:m(e),unsubscribe:y(e)}});return i(),u}function _(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t?k(e(document.querySelectorAll(t)),n):k([t],n)[0]}}("undefined"==typeof window?null:window);const c=u;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(){var t=h(),e=t.m(l),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,o[t],e)},delegateYield:function(t,o,i){return e.resultName=o,n(r.d,s(t),i)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(l=function(){return{wrap:function(e,n,r,o){return t.w(i(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new b(t,e)},AsyncIterator:v,async:function(t,e,n,o,u){return(r(e)?d:p)(i(t),e,n,o,u)},keys:f,values:s}})()}function s(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(a(t)+" is not iterable")}function f(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function p(t,e,n,r,o){var i=d(t,e,n,r,o);return i.next().then(function(t){return t.done?t.value:i.next()})}function d(t,e,n,r,o){return new v(h().w(t,e,n,r),o||Promise)}function v(t,e){function n(r,o,i,u){try{var c=t[r](o),a=c.value;return a instanceof b?e.resolve(a.v).then(function(t){n("next",t,i,u)},function(t){n("throw",t,i,u)}):e.resolve(a).then(function(t){c.value=t,i(c)},function(t){return n("throw",t,i,u)})}catch(t){u(t)}}var r;this.next||(y(v.prototype),y(v.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),y(this,"_invoke",function(t,o,i){function u(){return new e(function(e,r){n(t,i,e,r)})}return r=r?r.then(u,u):u()},!0)}function h(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var a=r&&r.prototype instanceof c?r:c,l=Object.create(a.prototype);return y(l,"_invoke",function(n,r,o){var i,c,a,l=0,s=o||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return i=e,c=0,a=t,p.n=n,u}};function d(n,r){for(c=n,a=r,e=0;!f&&l&&!o&&e<s.length;e++){var o,i=s[e],d=p.p,v=i[2];n>3?(o=v===r)&&(a=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=n<2&&d<i[1])?(c=0,p.v=r,p.n=i[1]):d<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,p.n=v,c=0))}if(o||n>1)return u;throw f=!0,r}return function(o,s,v){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,v),c=s,a=v;(e=c<2?t:a)||!f;){i||(c?c<3?(c>1&&(p.n=-1),d(c,a)):p.n=a:p.v=a);try{if(l=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,a)))throw TypeError("iterator result is not an object");if(!e.done)return e;a=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(f=p.n<0)?a:n.call(r,p))!==u)break}catch(e){i=t,c=1,a=e}finally{l=1}}return{value:e,done:f}}}(n,o,i),!0),l}var u={};function c(){}function a(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(y(e={},r,function(){return this}),e),f=l.prototype=c.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,y(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return a.prototype=l,y(f,"constructor",l),y(l,"constructor",a),a.displayName="GeneratorFunction",y(l,o,"GeneratorFunction"),y(f),y(f,o,"Generator"),y(f,r,function(){return this}),y(f,"toString",function(){return"[object Generator]"}),(h=function(){return{w:i,m:p}})()}function y(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}y=function(t,e,n,r){function i(e,n){y(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},y(t,e,n,r)}function b(t,e){this.v=t,this.k=e}function m(t,e,n,r,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void n(t)}c.done?e(a):Promise.resolve(a).then(r,o)}var g;function w(){var e;return e=l().mark(function e(n){var r,o,u,a,s,f,p,d,v;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d=function(t){return t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight},console.log(n),r=we(),o=JSON.parse(n),u=o.id,a=o.name,s=o.title,f=o.subscrb,p=o.language,console.log(u,a,s,f,p),("but1"===r||"but1"===r&&"resumeButton"===t)&&(g="".concat(a),console.log("".concat(u," - ").concat(g)),S(u,a,s,f)),("but2"===r||"but2"===r&&"resumeButton"===t)&&(g="".concat(s),console.log("".concat(u," - ").concat(g)),S(u,s,a,f)),document.querySelectorAll("textarea").forEach(function(t){d(t)?c(t,{minSize:20,maxSize:30}):t.style.fontSize="30px"}),document.getElementById("text1").value="".concat(u," - ").concat(a),document.getElementById("text2").value="".concat(u," - ").concat(s),document.cookie="id=".concat(u,"; path=/"),console.log("Вызов voicePlay.getUtterance для текста:",g,p,a,s,r),v=i.getUtterance(g,p,r),window.speechSynthesis.speak(v);case 15:case"end":return e.stop()}},e)}),w=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function u(t){m(i,r,o,u,c,"next",t)}function c(t){m(i,r,o,u,c,"throw",t)}u(void 0)})},w.apply(this,arguments)}function S(t,e,n,r){var o=document.getElementById("text3");if(o){var i=function(t){var e=document.createElement("td");return e.textContent=t,e.style.border="1px solid black",e.style.padding="4px",e},u=document.createElement("tr");u.appendChild(i(t)),u.appendChild(i(e)),u.appendChild(i("".concat(n," [").concat(r,"]"))),o.insertBefore(u,o.firstChild)}}const x=function(t){return w.apply(this,arguments)},E=function(t,e){var n=document.getElementById("countdown"),r=document.querySelector(".progress-ring__circle"),o=document.querySelector(".progress-ring__dot"),i=r.r.baseVal.value,u=2*Math.PI*i;r.style.strokeDasharray="".concat(u," ").concat(u),r.style.strokeDashoffset=u;var c=setInterval(function(){n.textContent=function(t){var e=Math.floor(t/60),n=t%60;return"".concat(String(e).padStart(2,"0"),":").concat(String(n).padStart(2,"0"))}(t),function(t){var e=u-t/100*u;r.style.strokeDashoffset=e;var n=360*t/100*(Math.PI/180),c=60+i*Math.cos(n-Math.PI/2),a=60+i*Math.sin(n-Math.PI/2);o.setAttribute("cx",c),o.setAttribute("cy",a)}(t/e*100),t<=0&&(clearInterval(c),n.textContent="Время истекло!"),t--},1e3)};function k(t){return function(t){if(Array.isArray(t))return _(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return _(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var O=document.getElementById("select2"),P=document.querySelectorAll(".form-language .checkboxL"),I=null,j=[],A={"English dictionary":{code:"En",url:"/dbEn.json"},"Deutsch Wörterbuch":{code:"De",url:"/dbDeu.json"},"Griechικό λεξικό":{code:"Gr",url:"/dbGr.json"},"Plskie słownictwo":{code:"Pl",url:"/dbPl.json"}},T={1:"En",2:"Pl",3:"Gr",4:"De"};function N(){j=Array.from(P).filter(function(t){return t.checked}).map(function(t){return Object.values(A).find(function(e){return e.code===T[t.value]})}).filter(Boolean),G()}function z(){var t=[].concat(k(I?[I]:[]),k(j)).map(function(t){return t.url}).filter(Boolean);return t.length>0?t:void 0}function G(){var t=z();t?console.log("📘 Текущий результат (массив URL’ов):",t):console.log("⚠️ Нет выбранных словарей и языков")}function C(t){var e=t(function(t){Error.call(t),t.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}console.log("🧩 seleDictionary:",O),console.log("🧩 checkboxes:",P),O.addEventListener("change",function(t){var e=t.target.value;I=A[e]||null,G()}),P.forEach(function(t){return t.addEventListener("change",N)});var L=C(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function F(t,e){var n="object"==typeof e;return new Promise(function(r,o){var i,u=!1;t.subscribe({next:function(t){i=t,u=!0},error:o,complete:function(){u?r(i):n?r(e.defaultValue):o(new L)}})})}var D=function(t,e){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},D(t,e)};function U(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}D(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function B(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return u.label++,{value:c[1],done:!1};case 5:u.label++,r=c[1],c=[0];continue;case 7:c=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){u=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){u.label=c[1];break}if(6===c[0]&&u.label<o[1]){u.label=o[1],o=c;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(c);break}o[2]&&u.ops.pop(),u.trys.pop();continue}c=e.call(t,u)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}function M(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function q(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u}function W(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function R(t){return this instanceof R?(this.v=t,this):new R(t)}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var V=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Y(t){return"function"==typeof t}function H(t){return Y(null==t?void 0:t.then)}var J=C(function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}});function $(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var K=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}var e;return t.prototype.unsubscribe=function(){var t,e,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var u=M(i),c=u.next();!c.done;c=u.next())c.value.remove(this)}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}else i.remove(this);var a=this.initialTeardown;if(Y(a))try{a()}catch(t){o=t instanceof J?t.errors:[t]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var s=M(l),f=s.next();!f.done;f=s.next()){var p=f.value;try{Z(p)}catch(t){o=null!=o?o:[],t instanceof J?o=W(W([],q(o)),q(t.errors)):o.push(t)}}}catch(t){n={error:t}}finally{try{f&&!f.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}if(o)throw new J(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)Z(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&$(e,t)},t.prototype.remove=function(e){var n=this._finalizers;n&&$(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),Q=K.EMPTY;function X(t){return t instanceof K||t&&"closed"in t&&Y(t.remove)&&Y(t.add)&&Y(t.unsubscribe)}function Z(t){Y(t)?t():t.unsubscribe()}var tt=null,et=null,nt=void 0,rt=!1,ot=!1,it={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=it.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,W([t,e],q(n))):setTimeout.apply(void 0,W([t,e],q(n)))},clearTimeout:function(t){var e=it.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function ut(t){it.setTimeout(function(){if(!tt)throw t;tt(t)})}function ct(){}var at=lt("C",void 0,void 0);function lt(t,e,n){return{kind:t,value:e,error:n}}var st=null;function ft(t){if(rt){var e=!st;if(e&&(st={errorThrown:!1,error:null}),t(),e){var n=st,r=n.errorThrown,o=n.error;if(st=null,r)throw o}}else t()}var pt=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,X(e)&&e.add(n)):n.destination=gt,n}return U(e,t),e.create=function(t,e,n){return new yt(t,e,n)},e.prototype.next=function(t){this.isStopped?mt(function(t){return lt("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?mt(lt("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?mt(at,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(K),dt=Function.prototype.bind;function vt(t,e){return dt.call(t,e)}var ht=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){bt(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){bt(t)}else bt(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){bt(t)}},t}(),yt=function(t){function e(e,n,r){var o,i,u=t.call(this)||this;return Y(e)||!e?o={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:u&&ot?((i=Object.create(e)).unsubscribe=function(){return u.unsubscribe()},o={next:e.next&&vt(e.next,i),error:e.error&&vt(e.error,i),complete:e.complete&&vt(e.complete,i)}):o=e,u.destination=new ht(o),u}return U(e,t),e}(pt);function bt(t){var e;rt?(e=t,rt&&st&&(st.errorThrown=!0,st.error=e)):ut(t)}function mt(t,e){var n=et;n&&it.setTimeout(function(){return n(t,e)})}var gt={closed:!0,next:ct,error:function(t){throw t},complete:ct},wt="function"==typeof Symbol&&Symbol.observable||"@@observable";function St(t){return t}var xt=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r,o=this,i=(r=t)&&r instanceof pt||function(t){return t&&Y(t.next)&&Y(t.error)&&Y(t.complete)}(r)&&X(r)?t:new yt(t,e,n);return ft(function(){var t=o,e=t.operator,n=t.source;i.add(e?e.call(i,n):n?o._subscribe(i):o._trySubscribe(i))}),i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=Et(e))(function(e,r){var o=new yt({next:function(e){try{t(e)}catch(t){r(t),o.unsubscribe()}},error:r,complete:e});n.subscribe(o)})},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[wt]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0===(n=t).length?St:1===n.length?n[0]:function(t){return n.reduce(function(t,e){return e(t)},t)})(this);var n},t.prototype.toPromise=function(t){var e=this;return new(t=Et(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function Et(t){var e;return null!==(e=null!=t?t:nt)&&void 0!==e?e:Promise}function kt(t){return Y(t[wt])}function _t(t){return Symbol.asyncIterator&&Y(null==t?void 0:t[Symbol.asyncIterator])}function Ot(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Pt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function It(t){return Y(null==t?void 0:t[Pt])}function jt(t){return function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},u("next"),u("throw"),u("return",function(t){return function(e){return Promise.resolve(e).then(t,l)}}),r[Symbol.asyncIterator]=function(){return this},r;function u(t,e){o[t]&&(r[t]=function(e){return new Promise(function(n,r){i.push([t,e,n,r])>1||c(t,e)})},e&&(r[t]=e(r[t])))}function c(t,e){try{(n=o[t](e)).value instanceof R?Promise.resolve(n.value.v).then(a,l):s(i[0][2],n)}catch(t){s(i[0][3],t)}var n}function a(t){c("next",t)}function l(t){c("throw",t)}function s(t,e){t(e),i.shift(),i.length&&c(i[0][0],i[0][1])}}(this,arguments,function(){var e,n,r;return B(this,function(o){switch(o.label){case 0:e=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,R(e.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,R(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,R(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function At(t){return Y(null==t?void 0:t.getReader)}function Tt(t){if(t instanceof xt)return t;if(null!=t){if(kt(t))return o=t,new xt(function(t){var e=o[wt]();if(Y(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if(V(t))return r=t,new xt(function(t){for(var e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()});if(H(t))return n=t,new xt(function(t){n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,ut)});if(_t(t))return Nt(t);if(It(t))return e=t,new xt(function(t){var n,r;try{for(var o=M(e),i=o.next();!i.done;i=o.next()){var u=i.value;if(t.next(u),t.closed)return}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()});if(At(t))return Nt(jt(t))}var e,n,r,o;throw Ot(t)}function Nt(t){return new xt(function(e){(function(t,e){var n,r,o,i,u,c,a,l;return u=this,c=void 0,l=function(){var u,c;return B(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),n=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=M(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,o){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,o,(e=t[n](e)).done,e.value)})}}}(t),a.label=1;case 1:return[4,n.next()];case 2:if((r=a.sent()).done)return[3,4];if(u=r.value,e.next(u),e.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=a.sent(),o={error:c},[3,11];case 6:return a.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})},new((a=void 0)||(a=Promise))(function(t,e){function n(t){try{o(l.next(t))}catch(t){e(t)}}function r(t){try{o(l.throw(t))}catch(t){e(t)}}function o(e){var o;e.done?t(e.value):(o=e.value,o instanceof a?o:new a(function(t){t(o)})).then(n,r)}o((l=l.apply(u,c||[])).next())})})(t,e).catch(function(t){return e.error(t)})})}function zt(t,e,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function Gt(t){return function(e){if(function(t){return Y(null==t?void 0:t.lift)}(e))return e.lift(function(e){try{return t(e,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ct(t,e,n,r,o){return new Lt(t,e,n,r,o)}var Lt=function(t){function e(e,n,r,o,i,u){var c=t.call(this,e)||this;return c.onFinalize=i,c.shouldUnsubscribe=u,c._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,c._error=o?function(t){try{o(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,c}return U(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},e}(pt);function Ft(t,e){return void 0===e&&(e=0),Gt(function(n,r){n.subscribe(Ct(r,function(n){return zt(r,t,function(){return r.next(n)},e)},function(){return zt(r,t,function(){return r.complete()},e)},function(n){return zt(r,t,function(){return r.error(n)},e)}))})}function Dt(t,e){return void 0===e&&(e=0),Gt(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function Ut(t,e){if(!t)throw new Error("Iterable cannot be null");return new xt(function(n){zt(n,e,function(){var r=t[Symbol.asyncIterator]();zt(n,e,function(){r.next().then(function(t){t.done?n.complete():n.next(t.value)})},0,!0)})})}function Bt(t,e){return e?function(t,e){if(null!=t){if(kt(t))return function(t,e){return Tt(t).pipe(Dt(e),Ft(e))}(t,e);if(V(t))return function(t,e){return new xt(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(H(t))return function(t,e){return Tt(t).pipe(Dt(e),Ft(e))}(t,e);if(_t(t))return Ut(t,e);if(It(t))return function(t,e){return new xt(function(n){var r;return zt(n,e,function(){r=t[Pt](),zt(n,e,function(){var t,e,o;try{e=(t=r.next()).value,o=t.done}catch(t){return void n.error(t)}o?n.complete():n.next(e)},0,!0)}),function(){return Y(null==r?void 0:r.return)&&r.return()}})}(t,e);if(At(t))return function(t,e){return Ut(jt(t),e)}(t,e)}throw Ot(t)}(t,e):Tt(t)}var Mt=C(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),qt=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return U(e,t),e.prototype.lift=function(t){var e=new Wt(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new Mt},e.prototype.next=function(t){var e=this;ft(function(){var n,r;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var o=M(e.currentObservers),i=o.next();!i.done;i=o.next())i.value.next(t)}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}})},e.prototype.error=function(t){var e=this;ft(function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var n=e.observers;n.length;)n.shift().error(t)}})},e.prototype.complete=function(){var t=this;ft(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,n=this,r=n.hasError,o=n.isStopped,i=n.observers;return r||o?Q:(this.currentObservers=null,i.push(t),new K(function(){e.currentObservers=null,$(i,t)}))},e.prototype._checkFinalizedStatuses=function(t){var e=this,n=e.hasError,r=e.thrownError,o=e.isStopped;n?t.error(r):o&&t.complete()},e.prototype.asObservable=function(){var t=new xt;return t.source=this,t},e.create=function(t,e){return new Wt(t,e)},e}(xt),Wt=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return U(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:Q},e}(qt);function Rt(t,e,n,r){return Gt(function(o,i){var u;e&&"function"!=typeof e?(n=e.duration,u=e.element,r=e.connector):u=e;var c=new Map,a=function(t){c.forEach(t),t(i)},l=function(t){return a(function(e){return e.error(t)})},s=0,f=!1,p=new Lt(i,function(e){try{var o=t(e),a=c.get(o);if(!a){c.set(o,a=r?r():new qt);var d=(h=o,y=a,(b=new xt(function(t){s++;var e=y.subscribe(t);return function(){e.unsubscribe(),0===--s&&f&&p.unsubscribe()}})).key=h,b);if(i.next(d),n){var v=Ct(a,function(){a.complete(),null==v||v.unsubscribe()},void 0,void 0,function(){return c.delete(o)});p.add(Tt(n(d)).subscribe(v))}}a.next(u?u(e):e)}catch(t){l(t)}var h,y,b},function(){return a(function(t){return t.complete()})},l,function(){return c.clear()},function(){return f=!0,0===s});o.subscribe(p)})}function Vt(t,e,n){return void 0===n&&(n=1/0),Y(e)?Vt(function(n,r){return function(t){return Gt(function(e,n){var r=0;e.subscribe(Ct(n,function(e){n.next(t.call(undefined,e,r++))}))})}(function(t,o){return e(n,t,r,o)})(Tt(t(n,r)))},n):("number"==typeof e&&(n=e),Gt(function(e,r){return function(t,e,n,r){var o=[],i=0,u=0,c=!1,a=function(){!c||o.length||i||e.complete()},l=function(t){return i<r?s(t):o.push(t)},s=function(t){i++;var c=!1;Tt(n(t,u++)).subscribe(Ct(e,function(t){e.next(t)},function(){c=!0},void 0,function(){if(c)try{i--;for(var t=function(){var t=o.shift();s(t)};o.length&&i<r;)t();a()}catch(t){e.error(t)}}))};return t.subscribe(Ct(e,l,function(){c=!0,a()})),function(){}}(e,r,t,n)}))}var Yt=function(t,e){return t.push(e),t};function Ht(){return Gt(function(t,e){(function(t,e){return Gt(function(t,e,n){return function(r,o){var i=n,u=e,c=0;r.subscribe(Ct(o,function(e){var n=c++;u=i?t(u,e,n):(i=!0,e)},function(){i&&o.next(u),o.complete()}))}}(t,e,arguments.length>=2))})(Yt,[])(t).subscribe(e)})}function Jt(t){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(t)}function $t(){var t=ee(),e=t.m($t),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,o[t],e)},delegateYield:function(t,o,i){return e.resultName=o,n(r.d,Kt(t),i)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return($t=function(){return{wrap:function(e,n,r,o){return t.w(i(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new re(t,e)},AsyncIterator:te,async:function(t,e,n,o,u){return(r(e)?Zt:Xt)(i(t),e,n,o,u)},keys:Qt,values:Kt}})()}function Kt(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(Jt(t)+" is not iterable")}function Qt(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Xt(t,e,n,r,o){var i=Zt(t,e,n,r,o);return i.next().then(function(t){return t.done?t.value:i.next()})}function Zt(t,e,n,r,o){return new te(ee().w(t,e,n,r),o||Promise)}function te(t,e){function n(r,o,i,u){try{var c=t[r](o),a=c.value;return a instanceof re?e.resolve(a.v).then(function(t){n("next",t,i,u)},function(t){n("throw",t,i,u)}):e.resolve(a).then(function(t){c.value=t,i(c)},function(t){return n("throw",t,i,u)})}catch(t){u(t)}}var r;this.next||(ne(te.prototype),ne(te.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),ne(this,"_invoke",function(t,o,i){function u(){return new e(function(e,r){n(t,i,e,r)})}return r=r?r.then(u,u):u()},!0)}function ee(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var a=r&&r.prototype instanceof c?r:c,l=Object.create(a.prototype);return ne(l,"_invoke",function(n,r,o){var i,c,a,l=0,s=o||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return i=e,c=0,a=t,p.n=n,u}};function d(n,r){for(c=n,a=r,e=0;!f&&l&&!o&&e<s.length;e++){var o,i=s[e],d=p.p,v=i[2];n>3?(o=v===r)&&(a=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=n<2&&d<i[1])?(c=0,p.v=r,p.n=i[1]):d<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,p.n=v,c=0))}if(o||n>1)return u;throw f=!0,r}return function(o,s,v){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,v),c=s,a=v;(e=c<2?t:a)||!f;){i||(c?c<3?(c>1&&(p.n=-1),d(c,a)):p.n=a:p.v=a);try{if(l=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,a)))throw TypeError("iterator result is not an object");if(!e.done)return e;a=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(f=p.n<0)?a:n.call(r,p))!==u)break}catch(e){i=t,c=1,a=e}finally{l=1}}return{value:e,done:f}}}(n,o,i),!0),l}var u={};function c(){}function a(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(ne(e={},r,function(){return this}),e),f=l.prototype=c.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,ne(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return a.prototype=l,ne(f,"constructor",l),ne(l,"constructor",a),a.displayName="GeneratorFunction",ne(l,o,"GeneratorFunction"),ne(f),ne(f,o,"Generator"),ne(f,r,function(){return this}),ne(f,"toString",function(){return"[object Generator]"}),(ee=function(){return{w:i,m:p}})()}function ne(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}ne=function(t,e,n,r){function i(e,n){ne(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},ne(t,e,n,r)}function re(t,e){this.v=t,this.k=e}function oe(t){return function(t){if(Array.isArray(t))return ce(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ue(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ue(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}function ue(t,e){if(t){if("string"==typeof t)return ce(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(t,e):void 0}}function ce(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ae(t,e,n,r,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void n(t)}c.done?e(a):Promise.resolve(a).then(r,o)}var le,se,fe=!1,pe=null,de=null,ve={useCountNWord:function(t){de=t,console.log("Count N Word set to:",de)},setID:function(t){pe=t,console.log("Current ID set to:",pe)},words:(le=$t().mark(function t(){var e,n,r,o,i,u,c,a,l,s,f,p,d,v,h,y,b,m,g,w,S,k,_,O;return $t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!=typeof window){t.next=2;break}return t.abrupt("return");case 2:console.log("Running in browser environment"),e=z(),console.log("📥 Результат getRequestAdd():",e),n=Array.isArray(e)?e:[e],console.log("📂 Итоговый список файлов:",n),r=1e3*Number(document.querySelector("#gap").value),o=[],t.prev=9,i=ie(n),t.prev=11,i.s();case 13:if((u=i.n()).done){t.next=44;break}if(c=u.value){t.next=17;break}return t.abrupt("continue",42);case 17:return console.log("📄 Обработка файла: ".concat(c)),t.next=20,fetch(c);case 20:if((a=t.sent).ok){t.next=24;break}return console.warn("⚠️ Не удалось загрузить файл: ".concat(c)),t.abrupt("continue",42);case 24:return t.next=26,a.text();case 26:if(l=t.sent,s=JSON.parse(l),f=[],!Array.isArray(s)){t.next=33;break}f=s,t.next=39;break;case 33:if(!Array.isArray(s.dictionary)){t.next=37;break}f=s.dictionary,t.next=39;break;case 37:return console.warn("⚠️ Неизвестный формат JSON:",s),t.abrupt("continue",42);case 39:p=pe?f.filter(function(t){var e=Number(t.id);return e>=Number(pe)&&e<=Number(pe)+Number(de)-1}):f.slice(0,de),console.log("🔍 Найдено ".concat(p.length," записей в ").concat(c)),o.push.apply(o,oe(p));case 42:t.next=13;break;case 44:t.next=49;break;case 46:t.prev=46,t.t0=t.catch(11),i.e(t.t0);case 49:return t.prev=49,i.f(),t.finish(49);case 52:if(0!==o.length){t.next=55;break}return console.log("❌ Нет данных для обработки."),t.abrupt("return");case 55:return t.next=57,F(Bt(o).pipe(Rt(function(t){return t.id}),Vt(function(t){return t.pipe(Ht())}),Ht()));case 57:d=t.sent,console.log("✅ Группированные данные по ID:"),console.log(d),console.log("✅ Начинаем поочерёдную обработку сгруппированных записей..."),v=ie(d),t.prev=62,v.s();case 64:if((h=v.n()).done){t.next=100;break}if(b=h.value,m=Number(null===(y=b[0])||void 0===y?void 0:y.id),g=Number(pe),w=g+Number(de)-1,!(m>w)){t.next=72;break}return console.log("⏹ Достигнут конец диапазона ID (".concat(m," > ").concat(w,"). Останавливаем обработку.")),t.abrupt("break",100);case 72:S=ie(b),t.prev=73,S.s();case 75:if((k=S.n()).done){t.next=90;break}_=k.value;case 77:if(!fe){t.next=82;break}return t.next=80,new Promise(function(t){return setTimeout(t,100)});case 80:t.next=77;break;case 82:return E(O=r/1e3,O),console.log("▶️ Обработка ID=".concat(_.id," (").concat(_.name,")")),x(JSON.stringify(_)),t.next=88,new Promise(function(t){return setTimeout(t,r)});case 88:t.next=75;break;case 90:t.next=95;break;case 92:t.prev=92,t.t1=t.catch(73),S.e(t.t1);case 95:return t.prev=95,S.f(),t.finish(95);case 98:t.next=64;break;case 100:t.next=105;break;case 102:t.prev=102,t.t2=t.catch(62),v.e(t.t2);case 105:return t.prev=105,v.f(),t.finish(105);case 108:console.log("✅ Все записи из выбранного диапазона обработаны."),console.log("✅ Все записи из groupedById обработаны."),t.next=115;break;case 112:t.prev=112,t.t3=t.catch(9),console.error("❌ Ошибка при обработке:",t.t3);case 115:case"end":return t.stop()}},t,null,[[9,112],[11,46,49,52],[62,102,105,108],[73,92,95,98]])}),se=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=le.apply(t,e);function i(t){ae(o,n,r,i,u,"next",t)}function u(t){ae(o,n,r,i,u,"throw",t)}i(void 0)})},function(){return se.apply(this,arguments)}),pause:function(){fe=!0},resume:function(){var t;fe?(fe=!1,null===(t=ve.readNextString)||void 0===t||t.call(ve)):console.log("Speech synthesis is not paused. Cannot resume.")}};const he=ve;var ye,be=document.querySelectorAll(".form-point");const me=function(){var t=document.querySelector(".form-pointN").value;document.querySelector('input[name="option3"]').checked||t||alert("Отметьте пожалуйста чекбокс, и поставьте нужное колличество слов!"),he.useCountNWord(t)};var ge;document.addEventListener("keydown",function(t){"Enter"===t.key&&t.preventDefault()}),window.speechSynthesis.cancel();var we=function(){return ge};const Se=function(t){var e=t.target;if(ge=e.id,"play"===e.className){(function(){var t=document.querySelector('input[name="option1"]').checked,e=document.querySelector('input[name="option2"]').checked;if(t)ye=be[0].value;else if(e){var n=document.cookie.split("; ").find(function(t){return t.startsWith("id=")});n&&(ye=n.split("=")[1])}ye&&he.setID(ye)})(),me(),he.words(),document.activeElement.blur();var n=window.scrollY;setTimeout(function(){return window.scrollTo(0,n)},50);var r=document.querySelector("#gap");if(r){var o=Number(r.value);E(o,o)}}};window.speechSynthesis.onvoiceschanged=function(){n.innerHTML="";var t=r.getVoices(),e=t.find(function(t){return"(en-US)"===t.lang||"(en-GB)"===t.lang});t.forEach(function(t){var e='<option value="'.concat(t.name,'">').concat(t.name," (").concat(t.lang,")</option>");n.insertAdjacentHTML("beforeend",e)});var o=t.find(function(t){return"Google US English"===t.name&&"en-US"===t.lang});o?n.value=o.name:e?n.value=e.name:console.log("Нет доступного голоса для выбора по умолчанию")};var xe=document.getElementById("but1"),Ee=document.getElementById("but2"),ke=document.getElementById("but3"),_e=document.getElementById("but5"),Oe=document.getElementById("resumeButton");xe.addEventListener("click",function(t){Se(t)}),Ee.addEventListener("click",function(t){Se(t)}),_e.addEventListener("click",function(t){e(t)}),Oe.addEventListener("click",function(t){e(t)}),ke.addEventListener("click",function(){setTimeout(function(){location.reload()},1e3)}),document.querySelectorAll(".checkbox").forEach(function(t){t.addEventListener("change",function(){var t=this;this.checked?document.querySelectorAll(".checkbox").forEach(function(e){e!==t&&(e.disabled=!0)}):document.querySelectorAll(".checkbox").forEach(function(t){t.disabled=!1})})}),window.addEventListener("load",function(){var t=document.querySelector('.checkbox[name="option1"]');t&&t.checked&&document.querySelectorAll(".checkbox").forEach(function(e){e!==t&&(e.disabled=!0)})})})();